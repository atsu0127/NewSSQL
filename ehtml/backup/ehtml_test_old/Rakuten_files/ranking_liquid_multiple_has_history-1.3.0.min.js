/*
 ranking_liquid-1.3.0.js
 Copyright (c) 2017 Rakuten.Inc
 Date: 2017-11-29 14:31:05
*/

!function(a){"use strict";var b,c,d=null==navigator.userAgent&&navigator.userAgent.indexOf("Mac")>-1;void 0!==a.jQuery&&(a.jQuery.noConflict(),b=a.jQuery,b.RJS_Helpers&&b().RJS_Slideshow&&(c=function(c){var e=this;b.extend(e,{settings:{noready:[0,"Int","^[0-1]$"],maxitem:[4,"Int","^[1-9]$"],minitem:[1,"Int","^[1-9]$"],sid:["","Str","^[a-zA-Z0-9_\\-]{3,64}$"],reviewlid:["","Str","^[a-zA-Z0-9_\\-]{3,64}$"],pagespeed:[100,"Range","0,9999"],opacityspeed:[100,"Range","0,9999"],
omitname:[38,"Range","0,100"],imagesize:[80,"Int","^[1-9]{1}[0-9]{1,2}"],autoslidetime:[2,"Range","1,99"],autoslideflag:["next","Str","^(next|prev)$"],autoslide:[0,"Int","^[0-1]$"],autoresize:[0,"Int","^[0-1]$"],impvar:["","Str","^[a-zA-Z0-9_]{3,64}$"],impdisp:["","Str","^[a-zA-Z0-9_]{3,64}$"],impnodisp:["","Str","^[a-zA-Z0-9_]{3,64}$"],verticalmode:[0,"Int","^[1]$"],jsonurl:["","Str","^http(s?)+(:\\/\\/[a-zA-Z0-9_\\-\\.]+)(\\.rakuten\\.co\\.jp\\/)+([a-zA-Z0-9_&=\\?\\-\\.\\/]+)$"],
ajaxtimer:[5,"Range","1,99"],svrgrp:[1,"Int","^[0-9]$"],mouseoverdelay:[1e3,"Range","0,9999"],itemheight:[170,"Range","0,9999"],disptab:[1,"Int","^[0-1]$"],updatetype:[0,"Int","^[0-1]$"],sidtype:[0,"Int","^[0-1]$"],dispmode:["A","Str","^[A-Z]$"]},eobj:[],eobjGenre:{config:b("#rnkDailyConfigHasHistory"+c),existItem:b("#rnkDailyExistItemDisplayHasHistory"+c),overMaxItem:b("#rnkDailyGenreOverMaxItemDisplayHasHistory"+c),prototypeItem:b("#rnkDailyGenreItemHasHistory"+c),
prevButton:b("#rnkDailyGenrePrevButtonHasHistory"+c),nextButton:b("#rnkDailyGenreNextButtonHasHistory"+c),loading:b("#rnkDailyGenreLoadingHasHistory"+c),altContents:b("#rnkDailyGenreAlteredContentsHasHistory"+c),itemsDisplay:b("#rnkDailyGenreItemsDisplayHasHistory"+c),rnkDailyGenreList:b("#rnkDailyGenreListHasHistory"+c),genreTabBase:b("#rnkGenreTabBaseHasHistory"+c),genreTab:b("#rnkGenreTabHasHistory"+c),genreTabs:b("#rnkDailyGenreTabsHasHistory"+c)},status:{error:!1,isTimeout:!1},props:{
items:[],genreItems:[],itemEvents:{remove:"#rnkDailyRemove"},itemPrototype:{html:"",height:0,width:0,identifiers:{rank:["",/#ITEMRNK#/g,""],itemurl:["",/#ITEMURL#/g,""],imageurl:['<img src="',/#ITEMIMGELE#/g,'" />'],itemname:["",/#ITEMNAME#/g,""],itemreview:["",/#ITEMREVIEW#/g,""],asurakuflg:["",/#ASURAKUFLG#/g,""],asurakuimg:["",/#ASURAKUIMG#/g,""],asurakuprefs:["",/#ASURAKUPREFS#/g,""],asurakuareas:["",/#ASURAKUAREAS#/g,""],asurakuareanames:["",/#ASURAKUAREANAMES#/g,""],
itemnameurl:["",/#ITEMNAMEURL#/g,""],itemimageurl:["",/#ITEMIMGURL#/g,""],rankchangeimg:["",/#RANKCHANGEIMG#/g,""],kakaku:["",/#KAKAKU#/g,""],reviewnum:["",/#REVIEWNUM#/g,""]}},genreTabPrototype:{html:"",height:0,width:0,identifiers:{itemurl:["",/#ITEMURL#/g,""],itemname:["",/#ITEMNAME#/g,""],imageurlon:['<img src="',/#ITEMIMGELEON#/g,'" />'],imageurloff:['<img src="',/#ITEMIMGELEOFF#/g,'" />'],genreurl:["",/#GENREURL#/g,""],qt:["",/#QT#/g,""],gid:["",/#GID#/g,""],tags:["",/#TAGS#/g,""],
scid:["",/#SCID#/g,""],ge:["",/#GE#/g,""],du:["",/#DU#/g,""],area:["",/#AREA#/g,""],eventid:["",/#EVENTID#/g,""],offset:["",/#OFFSET#/g,""],unqid:["",/#UNQID#/g,""],genrelinkevent:["",/#GENRELINKEVENT#/g,""]},tabWidth:114,currentGenreTabCnt:0,currentGenreTabNum:0,allGenreTabCnt:0,isSlideLock:!1,resizingFlg:!1,isAfterResize:!1,isFirst:!0},isFirst:!0,isSwitchGenre:!1,genreTabLink:"rnkDailyGenreLink"+c,genreLinkClass:".rnkGenreLink",genreUnlinkClass:".rnkGenreUnLink",itemAreaDiv:"rnkTabItemdiv",
itemsDisplay:"rnkDailyItemsDisplay",delUrlIndex:"delurl"+c},setEobj:function(a){a=null!=a&&a.length>0?"_"+a:"",e.eobj={config:b("#rnkDailyConfigHasHistory"+c),existItem:b("#rnkDailyExistItemDisplayHasHistory"+c),overMaxItem:b("#rnkDailyOverMaxItemDisplayHasHistory"+c),prototypeItem:b("#rnkDailyItemHasHistory"+c),prevButton:b("#rnkDailyPrevButtonHasHistory"+a),nextButton:b("#rnkDailyNextButtonHasHistory"+a),loading:b("#rnkDailyLoadingHasHistory"+c),
altContents:b("#rnkDailyAlteredContentsHasHistory"+c),itemsDisplay:b("#"+e.props.itemsDisplay+a),updateDateDisp:b("#rnkDailyUpdateDateHasHistory"+c),moreInfoName:b("#rnkDailyMoreInfoNameHasHistory"+c),moreInfoLink:b("#rnkDailyMoreInfoUrlHasHistory"+c),itemDispArea:b("#rnkTabSetHasHistory"+c),genreInfoLink:b("#rnkGenreInfoUrlHasHistory"+c),genreJsonName:b("#rnkGenreJsonNameHasHistory"+c)}},initialize:function(){if(e.setEobj(null),!e.loadSettings())return void e.displayDefaultContents()
;e.createGenreList(),1===e.settings.noReady?e.begin(e.props.genreItems[0]):b(document).ready(function(){e.begin(e.props.genreItems[0])})},loadSettings:function(){return e.settings=b.RJS_Helpers.readAttr(e.eobj.config,e.settings),e.settings.autoslidetime*=1e3,e.settings.ajaxtimer*=1e3,!0},begin:function(a){e.getData(a),e.status.error=!e.getPrototype()},getData:function(a){function f(a,b){return null==a?b:a}
var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="euc-jp",v=f(a.qt,"1"),w=f(a.gid,"0"),x=f(a.tags,""),y=f(a.ge,"9"),z=f(a.du,"8"),A=f(a.area,"00"),B=f(a.eventid,""),C=f(a.offset,"30"),D="",E="//api.ranking.rakuten.co.jp/q?protocol=secure&qt="+v+"&eid=11";try{g=setTimeout(function(){e.status.isTimeout=!0,e.displayDefaultContents()},e.settings.ajaxtimer),e.status.isTimeout=!1,"10"===v?(E+="&enc=1&len=100&offset="+C,t="jsonp"+c.replace("_","")+"2222222222222",
u="UTF-8"):(E+="&enc=0&du="+z+"&gid="+w+"&ge="+y+"&len=100&slen=40&offset="+C,"7"===z&&(E+="&event_rnk_id="+B),"8"===z&&(E+="&area="+A),"8"===v&&(E+="&tags="+x+"&mv=2"),t="jsonp"+c.replace("_","")+z+"0000000000000","0"!==w&&0!==x.length?t="jsonp"+c.replace("_","")+z+x.substring(0,7)+"1111111":"0"!==w&&(t="jsonp"+c.replace("_","")+z+a.gid+"1111111")),e.eobj.loading.show(),e.eobj.itemDispArea.hide(),b.ajax({url:E,cache:!1,dataType:"jsonp",scriptCharset:u,timeout:e.settings.ajaxtimer,
jsonpCallback:t,success:function(c){if(e.eobj.loading.hide(),e.eobj.itemDispArea.show(),e.status.isTimeout)return!1;if(clearTimeout(g),void 0===c.code||void 0===c.num)return e.displayDefaultContents(),!1;if("1"===c.code||"8"===c.code)return e.displayDefaultContents(e.settings.impnodisp),!1;if("0"!==c.code)return e.displayDefaultContents(),!1;if((j=c.items.length)<e.settings.minitem)return e.displayDefaultContents(e.settings.impnodisp),!1;for(h=e.settings.imagesize,e.setHeaderText(a,c.items,c),
k=j-1;k>=0;k--){if(i=c.items[k],i.itemname=b.RJS_Helpers.omitStr(i.itemname,e.settings.omitname,"\u2026"),void 0!==i.imageurl&&""!==i.imageurl||(i.imageurl=h>=128?i.imageurl128.replace("fitin=128:128","fitin="+h+":"+h):i.imageurl64.replace("fitin=64:64","fitin="+h+":"+h)),"10"!==v&&""!==e.settings.sid){for(q=i.itemurl.split("&D2="),r=q[0]+"?s-id="+e.createId(a,i.rank),s=1;s<q.length;s++)r=r+"&D2="+q[s];i.itemurl=r}i.itemimageurl='<a href="'+i.itemurl+'"><img src="'+i.imageurl+'"></a>',
i.itemnameurl='<a href="'+i.itemurl+'">'+i.itemname+"</a>",o=parseInt(i.prerank,10),p=parseInt(i.rank,10),"10"!==a.qt&&"6"!==a.du&&(i.rankchangeimg=e.createChangeIcon(p,o)),i.reviewnum>0&&(i.itemreview=e.createStar(i.revaveinteger,i.revavedecimal),i.reviewurl=e.createReviewUrl(i.reviewurl,e.settings.reviewlid),i.reviewnum='<a href="'+i.reviewurl+'">('+i.reviewnum.replace(/^(-?\d+)(\d{3})/,"$1,$2")+"\u4ef6)</a>"),"0"===i.reviewnum&&(i.reviewnum=""),"1"===i.asurakuflg&&(m=i.revaveinteger,
n=i.revavedecimal,i.reviewnum>0&&(i.itemreview='<img src="//r.r10s.jp/evt/event/ranking/img/parts/liquid-1.0.0/ranking_kuchikomi.gif" width="25" height="10" border="0" vspace="0">',i.itemreview+=e.createStar(m,n)),i.asurakuimg='<img src="//r.r10s.jp/evt/event/ranking/img/parts/icn_tomorrow_long_rnk.gif" width="66" height="15" border="0" vspace="0">',void 0!==(l=e.createAsurakuAreas(i.asurakuareanames))&&0!==l.length&&(d&&b.browser.mozilla&&(D="line-height:0.99; "),
i.asurakuareanames='<span style="font-size:10px;'+D+'"><font color="#FF3300">\u3042\u3059\u697d\u30a8\u30ea\u30a2(</font><font color="#888888">'+l+'</font><font color="#FF3300">)</font></span>'))}if("8"===a.qt&&"normal"===c.responsetype&&(a.responsetype="normal"),!b.browser.msie)for(k=j-1;k>=0;k--)c.items[k].itemname=c.items[k].itemname.split("").join(String.fromCharCode(8203));return e.props.items[a.genrelinkevent]=c.items,
"8"===a.qt&&(e.props.items[a.genrelinkevent][0].updatedate=c.updatedate),"normal"===a.responsetype&&"B"===e.settings.dispmode&&!0===e.props.isFirst&&e.displayDefaultContents(),e.status.error?(e.displayDefaultContents(),!1):(e.props.isFirst&&(e.createGenreTabs(c),e.createGenreEvent(),e.props.genreTabPrototype.currentGenreTabCnt=e.props.genreTabPrototype.allGenreTabCnt,e.reSizeGenreTab(),e.props.isFirst=!1),e.startSlideshow(a),!0)},error:function(a,b,c){e.displayDefaultContents(),
e.status.isTimeout=!0}})}catch(a){return e.displayDefaultContents(),!1}return!0},createAsurakuAreas:function(a){var b,c,d;if(void 0!==a){for(b="",c=a.split("/"),d=0;d<c.length;d++)"\u5168\u56fd"!==c[d]&&(b=b+c[d]+"\u3001");0!==b.length&&(b=b.substring(0,b.length-1))}return b},getPrototype:function(){var a=e.eobj.prototypeItem,b=e.props.itemPrototype;return 0!==a.length&&(b.html=a.html(),""!==b.html&&(b.width=a.outerWidth(),b.height=a.outerHeight(),!0))},startSlideshow:function(a){
e.regImpressionCode(e.settings.impdisp),b("#"+a.genrelinkevent+"_linked").hide(),b("#"+a.genrelinkevent+"_unlink").show(),e.setEobj(a.genrelinkevent),e.eobj.existItem.show(),e.eobj.itemsDisplay.RJS_Slideshow(e,{settings:e.settings,itemPrototype:e.props.itemPrototype,eobj:e.eobj,items:e.props.items[a.genrelinkevent],itemEvents:e.props.itemEvents,events:{onItemRemove:e.deleteItem,onZeroItems:e.removeSlideShow,afterFirstRender:e.afterFirstRender,beforeFirstRender:e.beforeFirstRender}}),
e.switchTabArea(a.genrelinkevent,a.responsetype)},regImpressionCode:function(b){a[e.settings.impvar]||""===b||(a[e.settings.impvar]=b)},deleteItem:function(a,b){var c;try{return c=new Image,c.src=b.props.items[a][b.props.delUrlIndex]+"&callback=?",!0}catch(a){return!1}},displayDefaultContents:function(a){e.eobj.altContents.show(),e.eobj.existItem.remove(),a&&e.regImpressionCode(a)},afterFirstRender:function(a,b){b.props.items.length>a&&b.eobj.overMaxItem.show(),b.props.isSwitchGenre=!1},
beforeFirstRender:function(a,b){b.eobj.itemsDisplay.show()},removeSlideShow:function(a){a.eobj.existItem.css("visibility","hidden").slideUp("fast",function(){b(this).remove()})},createGenreList:function(){e.eobjGenre.rnkDailyGenreList.children().map(function(a,c){var d;e.props.genreItems[a]=[];for(d in e.props.genreTabPrototype.identifiers)e.props.genreItems[a][d]=b(this).attr(d);return e.props.genreItems[a].genrename=b(this).text(),
e.props.genreItems[a].genrelinkevent=e.props.genreTabLink+"_"+a,null})},createGenreTabs:function(a){var c,d=e.eobjGenre.genreTab,f=e.props.genreTabPrototype,g=e.eobj.itemDispArea.html(),h=0;0!==d.length&&(f.html=d.html(),""!==f.html&&(f.width=d.outerWidth(),f.height=d.outerHeight(),e.eobjGenre.existItem.show(),c=f.tabWidth,b.each(e.props.genreItems,function(d,f){
var i,j,k,l,m=e.eobjGenre.genreTab.html(),n=e.props.genreTabPrototype.identifiers,o="",p=e.settings.mouseoverdelay,q=e.props.genreItems[d];for(k in n)l=void 0!==q[k]?n[k][0]+q[k]+n[k][2]:"",m=m.replace(n[k][1],l),o=g.replace(n[k][1],l);e.eobjGenre.itemsDisplay.append(m),e.eobj.itemDispArea.append(o),b("#"+f.genrelinkevent+"_tab").css({position:"absolute","z-index":"100",left:h+"px"}),h+=c,j=b("#"+f.genrelinkevent),j.bind("click",{val:f},function(b){b.preventDefault(),e.changeTab(f,a)}),
j.bind("mouseover",{val:f},function(b){b.preventDefault(),i=setTimeout(function(){e.changeTab(f,a)},p)}),j.bind("mouseout",{val:f},function(a){clearTimeout(i)}),0===d&&b("#"+e.props.genreItems[d].genrelinkevent+"_delimiter").hide(),e.props.genreTabPrototype.allGenreTabCnt++}),"0"===e.settings.disptab&&e.eobjGenre.genreTabBase.hide()))},changeTab:function(a,c){var d="",f=!0;e.props.isSwitchGenre||(e.props.isSwitchGenre=!0,b.each(e.props.genreItems,function(a,c){
"none"!==b("#"+c.genrelinkevent+"_unlink").css("display")&&(d=c.genrelinkevent),b("#"+c.genrelinkevent+"_linked").show(),b("#"+c.genrelinkevent+"_unlink").hide()}),b("#"+a.genrelinkevent+"_linked").hide(),b("#"+a.genrelinkevent+"_unlink").show(),b("#"+e.props.itemsDisplay+"_"+a.genrelinkevent).children().children().css({opacity:"1"}),b("#"+e.props.itemsDisplay+"_"+d).children().children().fadeTo("fast",0,function(){
f&&(void 0!==e.props.items[a.genrelinkevent]?(e.switchTabArea(a.genrelinkevent,a.responsetype),e.props.isSwitchGenre=!1,e.setHeaderText(a,e.props.items[a.genrelinkevent],c)):e.begin(a),f=!1)}))},createGenreEvent:function(){b(a).resize(function(){e.reSizeGenreTab()}),e.eobjGenre.prevButton.find("a").show().focus(function(){this.blur()}).click(function(a){return a.preventDefault(),e.genreSlidePage(!0),!1}),e.eobjGenre.nextButton.find("a").show().focus(function(){this.blur()}).click(function(a){
return a.preventDefault(),e.genreSlidePage(!1),!1})},reSizeGenreTab:function(){var a,c,d,f=e.props.genreTabPrototype.currentGenreTabNum,g=e.props.genreTabPrototype.allGenreTabCnt,h=Math.floor((e.eobjGenre.genreTabs.width()-28-28)/e.props.genreTabPrototype.tabWidth),i=e.props.genreTabPrototype.currentGenreTabCnt-h,j=0;if(0===i)return void e.ctrlGenreSlideBtn()
;if(i>0)for(d=f;d<g;d++)d>=f+h&&b("#"+e.props.genreTabLink+"_"+d+"_tab").hide();else if(i<0)for(d=f;d<f+h;d++)a=e.props.genreTabPrototype.tabWidth*j,c=b("#"+e.props.genreTabLink+"_"+d+"_tab"),c.css({left:a+"px"}),c.show(),j+=1;e.props.genreTabPrototype.currentGenreTabCnt=h,e.props.genreTabPrototype.isFirst?e.props.genreTabPrototype.isFirst=!1:e.props.genreTabPrototype.isAfterResize=!0,e.ctrlGenreSlideBtn()},ctrlGenreSlideBtn:function(){var a=e.props.genreTabPrototype
;0===a.currentGenreTabNum&&a.currentGenreTabCnt>=a.allGenreTabCnt?(e.eobjGenre.prevButton.css("visibility","hidden"),e.eobjGenre.nextButton.css("visibility","hidden")):(e.eobjGenre.prevButton.css("visibility","visible"),e.eobjGenre.nextButton.css("visibility","visible"))},genreSlidePage:function(a){var c,d,f,g=e.props.genreTabPrototype.currentGenreTabCnt,h=e.props.genreTabPrototype.currentGenreTabNum,i=e.props.genreTabPrototype.allGenreTabCnt,j=0;if(!e.props.genreTabPrototype.isSlideLock){
if(e.props.genreTabPrototype.isSlideLock=!0,j=a?h-g:h+g,(j>=i||j<0&&h>0)&&(j=0),j<0&&0===h&&(c=i%g,j=0===c?i-g:i-c),e.props.genreTabPrototype.isAfterResize)for(d=0;d<i;d++)b("#"+e.props.genreTabLink+"_"+d+"_tab").hide();for(f=0;f<g;f++)setTimeout(function(a,b,c,d){return function(){e.chgTab(a,b,c,d),c+1===g&&(e.props.genreTabPrototype.isSlideLock=!1,e.props.genreTabPrototype.isAfterResize=!1)}}(j,h,f,a),f*e.settings.pagespeed);e.props.genreTabPrototype.currentGenreTabNum=j,e.ctrlGenreSlideBtn()}
},chgTab:function(a,c,d,f){var g=e.getChgTabIds(a,c,d,f),h=b("#"+e.props.genreTabLink+"_"+g.newChgTabNum+"_tab"),i=b("#"+e.props.genreTabLink+"_"+g.oldChgTabNum+"_tab");null!==g.newChgTabNum?(h.css({position:"absolute","z-index":99,left:g.positionLeft+"px"}),null===g.oldChgTabNum?h.fadeIn(e.settings.opacityspeed,function(){}):(h.show(),i.fadeOut(e.settings.opacityspeed,function(){h.css({"z-index":100})}))):null!==g.oldChgTabNum&&i.fadeOut(e.settings.opacityspeed,function(){})},
getChgTabIds:function(a,b,c,d){var f=e.props.genreTabPrototype.currentGenreTabCnt-c-1,g={newChgTabNum:0,oldChgTabNum:0,positionLeft:0};return d?(g.newChgTabNum=a+c,g.oldChgTabNum=b+c,g.positionLeft=e.props.genreTabPrototype.tabWidth*c):(g.newChgTabNum=a+f,g.oldChgTabNum=b+f,g.positionLeft=e.props.genreTabPrototype.tabWidth*f),g.newChgTabNum>=e.props.genreTabPrototype.allGenreTabCnt&&(g.newChgTabNum=null),g.oldChgTabNum>=e.props.genreTabPrototype.allGenreTabCnt&&(g.oldChgTabNum=null),
e.props.genreTabPrototype.isAfterResize&&(g.oldChgTabNum=null),g},switchTabArea:function(a,c){var d=b("#"+e.props.itemAreaDiv+"_"+a);e.eobj.itemDispArea.children().css("height","0px"),e.eobj.itemDispArea.children().css("visibility","hidden"),d.css("height",e.settings.itemheight+"px"),
"normal"===c&&"B"===e.settings.dispmode?(e.eobj.itemDispArea.children().hasClass("noDataMessage")||e.eobj.itemDispArea.append('<div class="noDataMessage">\u3054\u6307\u5b9a\u306e\u691c\u7d22\u6761\u4ef6\u306b\u8a72\u5f53\u3059\u308b\u5546\u54c1\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002</div>'),d.css("visibility","hidden"),b(".noDataMessage").css("visibility","visible")):d.css("visibility","visible")},setHeaderText:function(a,c,d){var f="",g="",h=""
;"8"===a.qt?(f=d.updatedate?d.updatedate:"",g=d.updatetime?d.updatetime:"",""===f&&(f=c[0].updatedate)):(f=c[0].updatedate,g=c[0].updatetime),""!==f&&(h=f+" "+g),b(e.eobj.updateDateDisp).html(e.changeDateFormat(h)),e.settings.updatetype?b(e.eobj.updateDateDisp).html(e.changeDateTimeFormat(h)):b(e.eobj.updateDateDisp).html(e.changeDateFormat(h)),b(e.eobj.genreJsonName).size()>0?e.setGenreName(e.eobj.genreJsonName,c[0].genrename,a):e.setGenreName(e.eobj.genreInfoLink,a.genrename,a)},
setGenreName:function(a,c,d){b(a).html(c+"\u30e9\u30f3\u30ad\u30f3\u30b0"),"0"!==e.settings.disptab&&b(e.eobj.moreInfoName).html("- "+d.genrename+" -"),"8"===d.qt?(b(e.eobj.moreInfoLink).attr({href:e.getTagGenreUrl(d)}),b(a).attr({href:e.getTagGenreUrl(d)})):"10"===d.qt?(b(e.eobj.moreInfoLink).attr({href:"//books.rakuten.co.jp/e-book/rank/?l-id=top_normal_rk"}),b(a).attr({href:"//books.rakuten.co.jp/e-book/rank/?l-id=top_normal_rk"})):(b(e.eobj.moreInfoLink).attr({href:e.getGenreUrl(d)}),
b(a).attr({href:e.getGenreUrl(d)}))},getTagGenreUrl:function(a){return"//ranking.rakuten.co.jp/"+("2"!==a.du?"daily":"weekly")+"/"+a.gid+"/tags="+a.tags+"/?l-id="+e.createId(a,1)},getGenreUrl:function(a){var b,c="?l-id="+e.createId(a,1);return a.genreurl?b=a.genreurl:(b="//ranking.rakuten.co.jp/","0"===a.gid&&"1"===a.du||("2"===a.du?b+="weekly/":"6"===a.du?b+="realtime/":b+="daily/"),"0"!==a.gid&&(b+=a.gid+"/"),"0"===a.ge?b+="gender=male/":"1"===a.ge&&(b+="gender=female/")),b+c},
changeDateFormat:function(a){var b,c,d,e,f,g=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"];return a&&""!==a?(b=a.split("/"),3!==b.length?a:(c=new Date(b[0],b[1]-1,b[2]),d=c.getMonth()+1,e=c.getDate(),f=c.getDay(),isNaN(d)||isNaN(e)||isNaN(f)?"":d+"\u6708"+e+"\u65e5("+g[f]+")")):""},changeDateTimeFormat:function(a){var b,c,d,e,f,g,h=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"];return a&&""!==a?(b=a.split(" "),2!==b.length?"":(c=b[0].split("/"),
3!==c.length?"":(d=new Date(c[0],c[1]-1,c[2]),e=d.getMonth()+1,f=d.getDate(),g=d.getDay(),isNaN(e)||isNaN(f)||isNaN(g)?"":e+"\u6708"+f+"\u65e5("+h[g]+") "+b[1]))):""},createId:function(a,b){return void 0===a.unqid||""===a.unqid?e.settings.sidtype?e.settings.sid+"_"+a.gid+"_"+e.formatSidNumber(b,2):e.settings.sid:e.settings.sidtype?a.unqid+"_"+a.gid+"_"+e.formatSidNumber(b,2):a.unqid},formatSidNumber:function(a,b){for(;String(a).length<b;)a="0"+a;return a},createStar:function(a,b){var c,d=""
;for(c=0;c<a&&c<5;c++)d+='<img src="//r.r10s.jp/com/img/home/201306/ranking/review_star10.gif" class="rnkReviewStar">';for(c<5&&b>49&&(d+='<img src="//r.r10s.jp/com/img/home/201306/ranking/review_star10_half.gif" class="rnkReviewStar">',c++);c<5;c++)d+='<img src="//r.r10s.jp/com/img/home/201306/ranking/review_star10_off.gif" " class="rnkReviewStar">';return d},createChangeIcon:function(a,b){var c=""
;return 0===b?c="//r.r10s.jp/com/img/home/201306/ranking/icon_new.gif":b===a?c="//r.r10s.jp/com/img/home/201306/ranking/icon_stay.gif":b<a?c="//r.r10s.jp/com/img/home/201306/ranking/icon_down.gif":b>a&&(c="//r.r10s.jp/com/img/home/201306/ranking/icon_up.gif"),'<img src="'+c+'" width="24" height="9" border="0" vspace="0"style="display: inline-block; line-height: 1em; vertical-align: baseline; margin-left: 3px;">'},createReviewUrl:function(a,b){return a+(a.indexOf("?")<0?"?":"&")+"l-id="+b}})},
b("#rnkEventColumn").remove(),b("[member='rnkEventColumn']").remove(),new c("").initialize()))}(this);
